"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/auth/[...nextauth]/route";
exports.ids = ["app/api/auth/[...nextauth]/route"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "node:buffer":
/*!******************************!*\
  !*** external "node:buffer" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:buffer");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:crypto");

/***/ }),

/***/ "node:util":
/*!****************************!*\
  !*** external "node:util" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:util");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=E%3A%5CFESP%5CTeamProject%5CGENISISU%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CFESP%5CTeamProject%5CGENISISU&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=E%3A%5CFESP%5CTeamProject%5CGENISISU%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CFESP%5CTeamProject%5CGENISISU&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var E_FESP_TeamProject_GENISISU_src_app_api_auth_nextauth_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/auth/[...nextauth]/route.ts */ \"(rsc)/./src/app/api/auth/[...nextauth]/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/auth/[...nextauth]/route\",\n        pathname: \"/api/auth/[...nextauth]\",\n        filename: \"route\",\n        bundlePath: \"app/api/auth/[...nextauth]/route\"\n    },\n    resolvedPagePath: \"E:\\\\FESP\\\\TeamProject\\\\GENISISU\\\\src\\\\app\\\\api\\\\auth\\\\[...nextauth]\\\\route.ts\",\n    nextConfigOutput,\n    userland: E_FESP_TeamProject_GENISISU_src_app_api_auth_nextauth_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/auth/[...nextauth]/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhdXRoJTJGJTVCLi4ubmV4dGF1dGglNUQlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmF1dGglMkYlNUIuLi5uZXh0YXV0aCU1RCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmF1dGglMkYlNUIuLi5uZXh0YXV0aCU1RCUyRnJvdXRlLnRzJmFwcERpcj1FJTNBJTVDRkVTUCU1Q1RlYW1Qcm9qZWN0JTVDR0VOSVNJU1UlNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUUlM0ElNUNGRVNQJTVDVGVhbVByb2plY3QlNUNHRU5JU0lTVSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDNkI7QUFDMUc7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb21tdW5pdHkvPzI3ZWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiRTpcXFxcRkVTUFxcXFxUZWFtUHJvamVjdFxcXFxHRU5JU0lTVVxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxhdXRoXFxcXFsuLi5uZXh0YXV0aF1cXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2F1dGgvWy4uLm5leHRhdXRoXVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiRTpcXFxcRkVTUFxcXFxUZWFtUHJvamVjdFxcXFxHRU5JU0lTVVxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxhdXRoXFxcXFsuLi5uZXh0YXV0aF1cXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=E%3A%5CFESP%5CTeamProject%5CGENISISU%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CFESP%5CTeamProject%5CGENISISU&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/auth/[...nextauth]/route.ts":
/*!*************************************************!*\
  !*** ./src/app/api/auth/[...nextauth]/route.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var _auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/auth */ \"(rsc)/./src/auth.ts\");\n\nconst { GET, POST } = _auth__WEBPACK_IMPORTED_MODULE_0__.handlers;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0vcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWtDO0FBRTNCLE1BQU0sRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEVBQUUsR0FBR0YsMkNBQVFBLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb21tdW5pdHkvLi9zcmMvYXBwL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0vcm91dGUudHM/MDA5OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBoYW5kbGVycyB9IGZyb20gXCJAL2F1dGhcIjtcclxuXHJcbmV4cG9ydCBjb25zdCB7IEdFVCwgUE9TVCB9ID0gaGFuZGxlcnM7Il0sIm5hbWVzIjpbImhhbmRsZXJzIiwiR0VUIiwiUE9TVCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/auth/[...nextauth]/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/auth.ts":
/*!*********************!*\
  !*** ./src/auth.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   auth: () => (/* binding */ auth),\n/* harmony export */   handlers: () => (/* binding */ handlers),\n/* harmony export */   signIn: () => (/* binding */ signIn),\n/* harmony export */   signOut: () => (/* binding */ signOut),\n/* harmony export */   update: () => (/* binding */ update)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/credentials */ \"(rsc)/./node_modules/next-auth/providers/credentials.js\");\n/* harmony import */ var next_auth_providers_github__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth/providers/github */ \"(rsc)/./node_modules/next-auth/providers/github.js\");\n/* harmony import */ var next_auth_providers_google__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next-auth/providers/google */ \"(rsc)/./node_modules/next-auth/providers/google.js\");\n/* harmony import */ var _data_actions_userAction__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./data/actions/userAction */ \"(rsc)/./src/data/actions/userAction.ts\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jsonwebtoken */ \"(rsc)/./node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _data_fetch_userFetch__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./data/fetch/userFetch */ \"(rsc)/./src/data/fetch/userFetch.ts\");\n\n\n\n\n\n\n\nconst SERVER = \"https://api.fesp.shop\";\n// OAuth2.0\nconst { handlers, signIn, signOut, auth, unstable_update: update } = (0,next_auth__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    trustHost: true,\n    providers: [\n        (0,next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n            credentials: {\n                email: {},\n                password: {}\n            },\n            // email/password 로그인\n            async authorize (credentials) {\n                // credentials: 서버 액션에서 호출한 signIn('credentials', 사용자 정보) 메서드의 두번째 인수\n                const resJson = await (0,_data_actions_userAction__WEBPACK_IMPORTED_MODULE_4__.login)(credentials);\n                if (resJson.ok) {\n                    const user = resJson.item;\n                    return {\n                        id: String(user._id),\n                        name: user.name,\n                        email: user.email,\n                        type: user.type,\n                        image: user.image && SERVER + user.image,\n                        accessToken: user.token.accessToken,\n                        refreshToken: user.token.refreshToken\n                    };\n                } else {\n                    throw new next_auth__WEBPACK_IMPORTED_MODULE_0__.CredentialsSignin(resJson.message, {\n                        cause: resJson\n                    });\n                }\n            }\n        }),\n        (0,next_auth_providers_github__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n            clientId: process.env.GITHUB_CLIENT_ID,\n            clientSecret: process.env.GITHUB_CLIENT_SECRET\n        }),\n        (0,next_auth_providers_google__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({\n            clientId: process.env.GOOGLE_CLIENT_ID,\n            clientSecret: process.env.GOOGLE_CLIENT_SECRET\n        }),\n        (0,next_auth_providers_github__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n            clientId: process.env.GITHUB_CLIENT_ID,\n            clientSecret: process.env.GITHUB_CLIENT_SECRET\n        })\n    ],\n    session: {\n        strategy: \"jwt\",\n        maxAge: 60 * 60 * 24\n    },\n    pages: {\n        // import { signIn } from \"next-auth/react\";\n        // signIn() 호출 시 이동할 페이지 지정\n        signIn: \"/login\"\n    },\n    callbacks: {\n        // 로그인 처리를 계속 할지 여부 결정. 로그인한 후 추가 검증을 하거나 특정 조건에 따라서 로그인 성공/실패를 다시 결정할 때 사용\n        // signIn 콜백은 true를 반환하면 로그인 처리를 계속하고,\n        // false를 반환하거나 오류를 던지면 로그인 흐름을 중단하여 사용자에게 오류 페이지로 리디렉션\n        // user: authorize()가 리턴한 객체\n        // account: provider 정보\n        // profile: OAuth 제공자가 반환한 사용자 프로필 정보\n        // credentials: authorize()에 전달된 로그인 정보(사용자가 입력한 id, password 등)\n        async signIn ({ user, account, profile, credentials }) {\n            // user에 들어 있는 사용자 정보를 이용해서 최초에 한번은 회원 DB에 저장(회원가입)\n            // 가입된 회원일 경우 자동으로 로그인 처리\n            console.log(\"callbacks.signIn\", user, account, profile, credentials);\n            switch(account?.provider){\n                // email(id/pwd) 로그인\n                case \"credentials\":\n                    console.log(\"id/pwd 로그인\", user);\n                    break;\n                // SNS 로그인\n                case \"github\":\n                case \"google\":\n                case \"kakao\":\n                case \"naver\":\n                case \"genesis\":\n                    console.log(\"OAuth 로그인\", user);\n                    /*\r\n            OAuth 로그인 {\r\n              id: '409716c3-f6d3-4988-bf0e-062d85b3114e',\r\n              name: 'hyundai',\r\n              email: 'hyundai01@gmail.com',\r\n              image: 'https://lh3.googleusercontent.com/a/ACg8ocKqRBGG4QfyzlASvT7kARFlFHW7s8tQ6XQ-3fDQD6U7lLsqHQ=s96-c'   \r\n            }\r\n          */ // DB에서 id를 조회해서 있으면 로그인 처리하고 없으면 자동 회원 가입 후 로그인 처리\n                    let userInfo = null;\n                    try {\n                        // 자동 회원 가입\n                        const newUser = {\n                            type: \"user\",\n                            loginType: account.provider,\n                            name: user.name || \"\",\n                            email: user.email || \"\",\n                            image: user.image || \"\",\n                            extra: {\n                                ...profile,\n                                providerAccountId: account.providerAccountId\n                            }\n                        };\n                        // 이미 가입된 회원이면 회원가입이 되지 않고 에러를 응답하므로 무시하면 됨\n                        const result = await (0,_data_actions_userAction__WEBPACK_IMPORTED_MODULE_4__.signupWithOAuth)(newUser);\n                        console.log(\"회원가입\", result);\n                        // 자동 로그인\n                        const resData = await (0,_data_actions_userAction__WEBPACK_IMPORTED_MODULE_4__.loginOAuth)(account.providerAccountId);\n                        if (resData.ok) {\n                            userInfo = resData.item;\n                            console.log(userInfo);\n                        } else {\n                            // API 서버의 에러 메시지 처리\n                            throw new Error(resData.message);\n                        }\n                    } catch (err) {\n                        console.error(err);\n                        throw err;\n                    }\n                    user.id = String(userInfo?._id);\n                    user.type = userInfo?.type;\n                    user.accessToken = userInfo.token.accessToken;\n                    user.refreshToken = userInfo.token.refreshToken;\n                    break;\n            }\n            return true;\n        },\n        // JWT 토큰이 생성될 때, 업데이트될 때 호출\n        // 로그인 성공한 회원 정보로 token 객체 설정\n        // 최초 로그인시 user 객체 전달, 업데이트시나 세션 조회용으로 호출되면 user는 없음\n        async jwt ({ token, user, trigger, session, account, profile }) {\n            console.log(\"jwt.user\", user);\n            // 토큰 만료 체크, refreshToken으로 accessToken 갱신\n            // refreshToken도 만료되었을 경우 로그아웃 처리\n            if (user) {\n                token.id = user.id;\n                token.type = user.type;\n                token.accessToken = user.accessToken;\n                token.refreshToken = user.refreshToken;\n            }\n            // JWT 자체의 만료 시간 추출\n            const decodedToken = jsonwebtoken__WEBPACK_IMPORTED_MODULE_5___default().decode(token.accessToken);\n            const accessTokenExpires = decodedToken?.exp ? decodedToken.exp * 1000 : 0; // ms 단위로 변환\n            // 토큰 만료 확인\n            const shouldRefreshToken = Date.now() > accessTokenExpires;\n            if (shouldRefreshToken) {\n                try {\n                    console.log(\"토큰 만료됨.\", Date.now() + \" > \" + accessTokenExpires);\n                    const res = await (0,_data_fetch_userFetch__WEBPACK_IMPORTED_MODULE_6__.fetchAccessToken)(token.refreshToken);\n                    if (res.ok) {\n                        const resJson = await res.json();\n                        return {\n                            ...token,\n                            accessToken: resJson.accessToken\n                        };\n                    } else {\n                        if (res.status === 401) {\n                            // 인증되지 않음 (리플래시 토큰 인증 실패)\n                            console.log(\"리플래시 토큰 인증 실패. 로그인 페이지로 이동해야 함\", await res.json());\n                        }\n                    }\n                } catch (error) {\n                    if (error instanceof Error) {\n                        console.error(error);\n                        return {\n                            ...token,\n                            error: error.message\n                        };\n                    }\n                }\n            }\n            // 세션 업데이트\n            if (trigger === \"update\" && session) {\n                token.name = session.name;\n            }\n            return token;\n        },\n        // 클라이언트에서 세션 정보 요청시 호출\n        // token 객체 정보로 session 객체 설정\n        async session ({ session, token }) {\n            console.log(\"session.user\", session.user);\n            session.user.id = token.id;\n            session.user.type = token.type;\n            session.accessToken = token.accessToken;\n            session.refreshToken = token.refreshToken;\n            return session;\n        }\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WUFBWXBCLFNBQVM7Z0JBQ25DVixNQUFNSixJQUFJLEdBQUdjLFFBQVFkLElBQUk7WUFDM0I7WUFFQSxPQUFPSTtRQUNUO1FBRUEsdUJBQXVCO1FBQ3ZCLDZCQUE2QjtRQUM3QixNQUFNVSxTQUFRLEVBQUVBLE9BQU8sRUFBRVYsS0FBSyxFQUFFO1lBQzlCaUIsUUFBUUMsR0FBRyxDQUFDLGdCQUFnQlIsUUFBUW5CLElBQUk7WUFDeENtQixRQUFRbkIsSUFBSSxDQUFDRSxFQUFFLEdBQUdPLE1BQU1QLEVBQUU7WUFDMUJpQixRQUFRbkIsSUFBSSxDQUFDTSxJQUFJLEdBQUdHLE1BQU1ILElBQUk7WUFDOUJhLFFBQVFYLFdBQVcsR0FBR0MsTUFBTUQsV0FBVztZQUN2Q1csUUFBUVQsWUFBWSxHQUFHRCxNQUFNQyxZQUFZO1lBQ3pDLE9BQU9TO1FBQ1Q7SUFXRjtBQUNGLEdBQUciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb21tdW5pdHkvLi9zcmMvYXV0aC50cz82MmQ5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBOZXh0QXV0aCwgeyBDcmVkZW50aWFsc1NpZ25pbiB9IGZyb20gJ25leHQtYXV0aCc7XHJcbmltcG9ydCBDcmVkZW50aWFsc1Byb3ZpZGVyIGZyb20gJ25leHQtYXV0aC9wcm92aWRlcnMvY3JlZGVudGlhbHMnO1xyXG5pbXBvcnQgZ2l0aHViIGZyb20gJ25leHQtYXV0aC9wcm92aWRlcnMvZ2l0aHViJztcclxuaW1wb3J0IGdvb2dsZSBmcm9tICduZXh0LWF1dGgvcHJvdmlkZXJzL2dvb2dsZSc7XHJcbmltcG9ydCB7IE9BdXRoVXNlciwgUmVmcmVzaFRva2VuUmVzLCBVc2VyRGF0YSwgVXNlckxvZ2luRm9ybSB9IGZyb20gJy4uL3R5cGVzJztcclxuaW1wb3J0IHsgbG9naW4sIGxvZ2luT0F1dGgsIHNpZ251cFdpdGhPQXV0aCB9IGZyb20gJy4vZGF0YS9hY3Rpb25zL3VzZXJBY3Rpb24nO1xyXG5pbXBvcnQgand0LCB7IEp3dFBheWxvYWQgfSBmcm9tICdqc29ud2VidG9rZW4nO1xyXG5pbXBvcnQgeyBmZXRjaEFjY2Vzc1Rva2VuIH0gZnJvbSAnLi9kYXRhL2ZldGNoL3VzZXJGZXRjaCc7XHJcblxyXG5jb25zdCBTRVJWRVIgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfU0VSVkVSO1xyXG5cclxuLy8gT0F1dGgyLjBcclxuZXhwb3J0IGNvbnN0IHtcclxuICBoYW5kbGVycyxcclxuICBzaWduSW4sXHJcbiAgc2lnbk91dCxcclxuICBhdXRoLFxyXG4gIHVuc3RhYmxlX3VwZGF0ZTogdXBkYXRlLFxyXG59ID0gTmV4dEF1dGgoe1xyXG4gIHRydXN0SG9zdDogdHJ1ZSwgLy8g67Cw7Y+sIOyLnCDtlYTsmpRcclxuICBwcm92aWRlcnM6IFtcclxuICAgIENyZWRlbnRpYWxzUHJvdmlkZXIoe1xyXG4gICAgICBjcmVkZW50aWFsczoge1xyXG4gICAgICAgIGVtYWlsOiB7fSxcclxuICAgICAgICBwYXNzd29yZDoge30sXHJcbiAgICAgIH0sXHJcbiAgICAgIC8vIGVtYWlsL3Bhc3N3b3JkIOuhnOq3uOyduFxyXG4gICAgICBhc3luYyBhdXRob3JpemUoY3JlZGVudGlhbHMpIHtcclxuICAgICAgICAvLyBjcmVkZW50aWFsczog7ISc67KEIOyVoeyFmOyXkOyEnCDtmLjstpztlZwgc2lnbkluKCdjcmVkZW50aWFscycsIOyCrOyaqeyekCDsoJXrs7QpIOuplOyEnOuTnOydmCDrkZDrsojsp7gg7J247IiYXHJcbiAgICAgICAgY29uc3QgcmVzSnNvbiA9IGF3YWl0IGxvZ2luKGNyZWRlbnRpYWxzIGFzIFVzZXJMb2dpbkZvcm0pO1xyXG5cclxuICAgICAgICBpZiAocmVzSnNvbi5vaykge1xyXG4gICAgICAgICAgY29uc3QgdXNlciA9IHJlc0pzb24uaXRlbTtcclxuICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGlkOiBTdHJpbmcodXNlci5faWQpLFxyXG4gICAgICAgICAgICBuYW1lOiB1c2VyLm5hbWUsXHJcbiAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxyXG4gICAgICAgICAgICB0eXBlOiB1c2VyLnR5cGUsXHJcbiAgICAgICAgICAgIGltYWdlOiB1c2VyLmltYWdlICYmIFNFUlZFUiArIHVzZXIuaW1hZ2UsXHJcbiAgICAgICAgICAgIGFjY2Vzc1Rva2VuOiB1c2VyLnRva2VuIS5hY2Nlc3NUb2tlbixcclxuICAgICAgICAgICAgcmVmcmVzaFRva2VuOiB1c2VyLnRva2VuIS5yZWZyZXNoVG9rZW4sXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNTaWduaW4ocmVzSnNvbi5tZXNzYWdlLCB7IGNhdXNlOiByZXNKc29uIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgIH0pLFxyXG4gICAgZ2l0aHViKHtcclxuICAgICAgY2xpZW50SWQ6IHByb2Nlc3MuZW52LkdJVEhVQl9DTElFTlRfSUQsXHJcbiAgICAgIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuR0lUSFVCX0NMSUVOVF9TRUNSRVQsXHJcbiAgICB9KSxcclxuICAgIGdvb2dsZSh7XHJcbiAgICAgIGNsaWVudElkOiBwcm9jZXNzLmVudi5HT09HTEVfQ0xJRU5UX0lELFxyXG4gICAgICBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52LkdPT0dMRV9DTElFTlRfU0VDUkVULFxyXG4gICAgfSksXHJcbiAgICBnaXRodWIoe1xyXG4gICAgICBjbGllbnRJZDogcHJvY2Vzcy5lbnYuR0lUSFVCX0NMSUVOVF9JRCxcclxuICAgICAgY2xpZW50U2VjcmV0OiBwcm9jZXNzLmVudi5HSVRIVUJfQ0xJRU5UX1NFQ1JFVCxcclxuICAgIH0pLFxyXG4gICAgLy8gZ2VuZXNpcyh7XHJcbiAgICAvLyAgIGNsaWVudElkOiBwcm9jZXNzLmVudi5HRU5FU0lTX0NMSUVOVF9JRCxcclxuICAgIC8vICAgY2xpZW50U2VjcmV0OiBwcm9jZXNzLmVudi5HRU5FU0lTX0NMSUVOVF9TRUNSRVQsXHJcbiAgICAvLyB9KSxcclxuICBdLFxyXG4gIHNlc3Npb246IHtcclxuICAgIHN0cmF0ZWd5OiAnand0JywgLy8gSlNPTiBXZWIgVG9rZW4g7IKs7JqpKOq4sOuzuOqwkilcclxuICAgIG1heEFnZTogNjAgKiA2MCAqIDI0LCAvLyDshLjshZgg66eM66OMIOyLnOqwhChzZWMpXHJcbiAgfSxcclxuICBwYWdlczoge1xyXG4gICAgLy8gaW1wb3J0IHsgc2lnbkluIH0gZnJvbSBcIm5leHQtYXV0aC9yZWFjdFwiO1xyXG4gICAgLy8gc2lnbkluKCkg7Zi47LacIOyLnCDsnbTrj5ntlaAg7Y6Y7J207KeAIOyngOyglVxyXG4gICAgc2lnbkluOiAnL2xvZ2luJywgLy8gZGVmYXVsdCAnL2F1dGgvc2lnbmluJ1xyXG4gIH0sXHJcbiAgY2FsbGJhY2tzOiB7XHJcbiAgICAvLyDroZzqt7jsnbgg7LKY66as66W8IOqzhOyGjSDtlaDsp4Ag7Jes67aAIOqysOyglS4g66Gc6re47J247ZWcIO2bhCDstpTqsIAg6rKA7Kad7J2EIO2VmOqxsOuCmCDtirnsoJUg7KGw6rG07JeQIOuUsOudvOyEnCDroZzqt7jsnbgg7ISx6rO1L+yLpO2MqOulvCDri6Tsi5wg6rKw7KCV7ZWgIOuVjCDsgqzsmqlcclxuICAgIC8vIHNpZ25JbiDsvZzrsLHsnYAgdHJ1ZeulvCDrsJjtmZjtlZjrqbQg66Gc6re47J24IOyymOumrOulvCDqs4Tsho3tlZjqs6AsXHJcbiAgICAvLyBmYWxzZeulvCDrsJjtmZjtlZjqsbDrgpgg7Jik66WY66W8IOuNmOyngOuptCDroZzqt7jsnbgg7Z2Q66aE7J2EIOykkeuLqO2VmOyXrCDsgqzsmqnsnpDsl5Dqsowg7Jik66WYIO2OmOydtOyngOuhnCDrpqzrlJTroInshZhcclxuICAgIC8vIHVzZXI6IGF1dGhvcml6ZSgp6rCAIOumrO2EtO2VnCDqsJ3ssrRcclxuICAgIC8vIGFjY291bnQ6IHByb3ZpZGVyIOygleuztFxyXG4gICAgLy8gcHJvZmlsZTogT0F1dGgg7KCc6rO17J6Q6rCAIOuwmO2ZmO2VnCDsgqzsmqnsnpAg7ZSE66Gc7ZWEIOygleuztFxyXG4gICAgLy8gY3JlZGVudGlhbHM6IGF1dGhvcml6ZSgp7JeQIOyghOuLrOuQnCDroZzqt7jsnbgg7KCV67O0KOyCrOyaqeyekOqwgCDsnoXroKXtlZwgaWQsIHBhc3N3b3JkIOuTsSlcclxuICAgIGFzeW5jIHNpZ25Jbih7IHVzZXIsIGFjY291bnQsIHByb2ZpbGUsIGNyZWRlbnRpYWxzIH0pIHtcclxuICAgICAgLy8gdXNlcuyXkCDrk6TslrQg7J6I64qUIOyCrOyaqeyekCDsoJXrs7Trpbwg7J207Jqp7ZW07IScIOy1nOy0iOyXkCDtlZzrsojsnYAg7ZqM7JuQIERC7JeQIOyggOyepSjtmozsm5DqsIDsnoUpXHJcbiAgICAgIC8vIOqwgOyeheuQnCDtmozsm5Dsnbwg6rK97JqwIOyekOuPmeycvOuhnCDroZzqt7jsnbgg7LKY66asXHJcbiAgICAgIGNvbnNvbGUubG9nKCdjYWxsYmFja3Muc2lnbkluJywgdXNlciwgYWNjb3VudCwgcHJvZmlsZSwgY3JlZGVudGlhbHMpO1xyXG4gICAgICBzd2l0Y2ggKGFjY291bnQ/LnByb3ZpZGVyKSB7XHJcbiAgICAgICAgLy8gZW1haWwoaWQvcHdkKSDroZzqt7jsnbhcclxuICAgICAgICBjYXNlICdjcmVkZW50aWFscyc6XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnaWQvcHdkIOuhnOq3uOyduCcsIHVzZXIpO1xyXG4gICAgICAgICAgLypcclxuICAgICAgICAgICAgaWQvcHdkIOuhnOq3uOyduCB7XHJcbiAgICAgICAgICAgICAgaWQ6ICcyJyxcclxuICAgICAgICAgICAgICBlbWFpbDogJ3MxQG1hcmtldC5jb20nLFxyXG4gICAgICAgICAgICAgIG5hbWU6ICfrhKTsmKQnLFxyXG4gICAgICAgICAgICAgIHR5cGU6ICdzZWxsZXInLFxyXG4gICAgICAgICAgICAgIGltYWdlOiAnaHR0cHM6Ly9hcGkuZmVzcC5zaG9wL2ZpbGVzLzAwLXNhbXBsZS91c2VyLW5lby53ZWJwJyxcclxuICAgICAgICAgICAgICBhY2Nlc3NUb2tlbjogJy4uLicsXHJcbiAgICAgICAgICAgICAgcmVmcmVzaFRva2VuOiAnLi4uJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAqL1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIC8vIFNOUyDroZzqt7jsnbhcclxuICAgICAgICBjYXNlICdnaXRodWInOlxyXG4gICAgICAgIGNhc2UgJ2dvb2dsZSc6XHJcbiAgICAgICAgY2FzZSAna2FrYW8nOlxyXG4gICAgICAgIGNhc2UgJ25hdmVyJzpcclxuICAgICAgICBjYXNlICdnZW5lc2lzJzpcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdPQXV0aCDroZzqt7jsnbgnLCB1c2VyKTtcclxuICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgIE9BdXRoIOuhnOq3uOyduCB7XHJcbiAgICAgICAgICAgICAgaWQ6ICc0MDk3MTZjMy1mNmQzLTQ5ODgtYmYwZS0wNjJkODViMzExNGUnLFxyXG4gICAgICAgICAgICAgIG5hbWU6ICdoeXVuZGFpJyxcclxuICAgICAgICAgICAgICBlbWFpbDogJ2h5dW5kYWkwMUBnbWFpbC5jb20nLFxyXG4gICAgICAgICAgICAgIGltYWdlOiAnaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EvQUNnOG9jS3FSQkdHNFFmeXpsQVN2VDdrQVJGbEZIVzdzOHRRNlhRLTNmRFFENlU3bExzcUhRPXM5Ni1jJyAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAqL1xyXG5cclxuICAgICAgICAgIC8vIERC7JeQ7IScIGlk66W8IOyhsO2ajO2VtOyEnCDsnojsnLzrqbQg66Gc6re47J24IOyymOumrO2VmOqzoCDsl4bsnLzrqbQg7J6Q64+ZIO2ajOybkCDqsIDsnoUg7ZuEIOuhnOq3uOyduCDsspjrpqxcclxuICAgICAgICAgIGxldCB1c2VySW5mbzogVXNlckRhdGEgfCBudWxsID0gbnVsbDtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIOyekOuPmSDtmozsm5Ag6rCA7J6FXHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1VzZXI6IE9BdXRoVXNlciA9IHtcclxuICAgICAgICAgICAgICB0eXBlOiAndXNlcicsXHJcbiAgICAgICAgICAgICAgbG9naW5UeXBlOiBhY2NvdW50LnByb3ZpZGVyLFxyXG4gICAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSB8fCAnJyxcclxuICAgICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCB8fCAnJyxcclxuICAgICAgICAgICAgICBpbWFnZTogdXNlci5pbWFnZSB8fCAnJyxcclxuICAgICAgICAgICAgICBleHRyYTogeyAuLi5wcm9maWxlLCBwcm92aWRlckFjY291bnRJZDogYWNjb3VudC5wcm92aWRlckFjY291bnRJZCB9LFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8g7J2066+4IOqwgOyeheuQnCDtmozsm5DsnbTrqbQg7ZqM7JuQ6rCA7J6F7J20IOuQmOyngCDslYrqs6Ag7JeQ65+s66W8IOydkeuLte2VmOuvgOuhnCDrrLTsi5ztlZjrqbQg65CoXHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNpZ251cFdpdGhPQXV0aChuZXdVc2VyKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+2ajOybkOqwgOyehScsIHJlc3VsdCk7XHJcblxyXG4gICAgICAgICAgICAvLyDsnpDrj5kg66Gc6re47J24XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc0RhdGEgPSBhd2FpdCBsb2dpbk9BdXRoKGFjY291bnQucHJvdmlkZXJBY2NvdW50SWQpO1xyXG4gICAgICAgICAgICBpZiAocmVzRGF0YS5vaykge1xyXG4gICAgICAgICAgICAgIHVzZXJJbmZvID0gcmVzRGF0YS5pdGVtO1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKHVzZXJJbmZvKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAvLyBBUEkg7ISc67KE7J2YIOyXkOufrCDrqZTsi5zsp4Ag7LKY66asXHJcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc0RhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgICAgICAgIHRocm93IGVycjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHVzZXIuaWQgPSBTdHJpbmcodXNlckluZm8/Ll9pZCk7XHJcbiAgICAgICAgICB1c2VyLnR5cGUgPSB1c2VySW5mbz8udHlwZTtcclxuICAgICAgICAgIHVzZXIuYWNjZXNzVG9rZW4gPSB1c2VySW5mby50b2tlbiEuYWNjZXNzVG9rZW47XHJcbiAgICAgICAgICB1c2VyLnJlZnJlc2hUb2tlbiA9IHVzZXJJbmZvLnRva2VuIS5yZWZyZXNoVG9rZW47XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIEpXVCDthqDtgbDsnbQg7IOd7ISx65CgIOuVjCwg7JeF642w7J207Yq465CgIOuVjCDtmLjstpxcclxuICAgIC8vIOuhnOq3uOyduCDshLHqs7XtlZwg7ZqM7JuQIOygleuztOuhnCB0b2tlbiDqsJ3ssrQg7ISk7KCVXHJcbiAgICAvLyDstZzstIgg66Gc6re47J247IucIHVzZXIg6rCd7LK0IOyghOuLrCwg7JeF642w7J207Yq47Iuc64KYIOyEuOyFmCDsobDtmozsmqnsnLzroZwg7Zi47Lac65CY66m0IHVzZXLripQg7JeG7J2MXHJcbiAgICBhc3luYyBqd3QoeyB0b2tlbiwgdXNlciwgdHJpZ2dlciwgc2Vzc2lvbiwgYWNjb3VudCwgcHJvZmlsZSB9KSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdqd3QudXNlcicsIHVzZXIpO1xyXG4gICAgICAvLyDthqDtgbAg66eM66OMIOyytO2BrCwgcmVmcmVzaFRva2Vu7Jy866GcIGFjY2Vzc1Rva2VuIOqwseyLoFxyXG4gICAgICAvLyByZWZyZXNoVG9rZW7rj4Qg66eM66OM65CY7JeI7J2EIOqyveyasCDroZzqt7jslYTsm4Mg7LKY66asXHJcbiAgICAgIGlmICh1c2VyKSB7XHJcbiAgICAgICAgdG9rZW4uaWQgPSB1c2VyLmlkO1xyXG4gICAgICAgIHRva2VuLnR5cGUgPSB1c2VyLnR5cGU7XHJcbiAgICAgICAgdG9rZW4uYWNjZXNzVG9rZW4gPSB1c2VyLmFjY2Vzc1Rva2VuO1xyXG4gICAgICAgIHRva2VuLnJlZnJlc2hUb2tlbiA9IHVzZXIucmVmcmVzaFRva2VuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBKV1Qg7J6Q7LK07J2YIOunjOujjCDsi5zqsIQg7LaU7LacXHJcbiAgICAgIGNvbnN0IGRlY29kZWRUb2tlbiA9IGp3dC5kZWNvZGUodG9rZW4uYWNjZXNzVG9rZW4pIGFzIEp3dFBheWxvYWQgfCBudWxsO1xyXG4gICAgICBjb25zdCBhY2Nlc3NUb2tlbkV4cGlyZXMgPSBkZWNvZGVkVG9rZW4/LmV4cCA/IGRlY29kZWRUb2tlbi5leHAgKiAxMDAwIDogMDsgLy8gbXMg64uo7JyE66GcIOuzgO2ZmFxyXG4gICAgICAvLyDthqDtgbAg66eM66OMIO2ZleyduFxyXG4gICAgICBjb25zdCBzaG91bGRSZWZyZXNoVG9rZW4gPSBEYXRlLm5vdygpID4gYWNjZXNzVG9rZW5FeHBpcmVzO1xyXG4gICAgICBpZiAoc2hvdWxkUmVmcmVzaFRva2VuKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCfthqDtgbAg66eM66OM65CoLicsIERhdGUubm93KCkgKyAnID4gJyArIGFjY2Vzc1Rva2VuRXhwaXJlcyk7XHJcbiAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaEFjY2Vzc1Rva2VuKHRva2VuLnJlZnJlc2hUb2tlbik7XHJcbiAgICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc0pzb246IFJlZnJlc2hUb2tlblJlcyA9IGF3YWl0IHJlcy5qc29uKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgLi4udG9rZW4sXHJcbiAgICAgICAgICAgICAgYWNjZXNzVG9rZW46IHJlc0pzb24uYWNjZXNzVG9rZW4sXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gNDAxKSB7XHJcbiAgICAgICAgICAgICAgLy8g7J247Kad65CY7KeAIOyViuydjCAo66as7ZSM656Y7IucIO2GoO2BsCDsnbjspp0g7Iuk7YyoKVxyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfrpqztlIzrnpjsi5wg7Yag7YGwIOyduOymnSDsi6TtjKguIOuhnOq3uOyduCDtjpjsnbTsp4DroZwg7J2064+Z7ZW07JW8IO2VqCcsIGF3YWl0IHJlcy5qc29uKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgIC4uLnRva2VuLFxyXG4gICAgICAgICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8g7IS47IWYIOyXheuNsOydtO2KuFxyXG4gICAgICBpZiAodHJpZ2dlciA9PT0gJ3VwZGF0ZScgJiYgc2Vzc2lvbikge1xyXG4gICAgICAgIHRva2VuLm5hbWUgPSBzZXNzaW9uLm5hbWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB0b2tlbjtcclxuICAgIH0sXHJcblxyXG4gICAgLy8g7YG065287J207Ja47Yq47JeQ7IScIOyEuOyFmCDsoJXrs7Qg7JqU7LKt7IucIO2YuOy2nFxyXG4gICAgLy8gdG9rZW4g6rCd7LK0IOygleuztOuhnCBzZXNzaW9uIOqwneyytCDshKTsoJVcclxuICAgIGFzeW5jIHNlc3Npb24oeyBzZXNzaW9uLCB0b2tlbiB9KSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdzZXNzaW9uLnVzZXInLCBzZXNzaW9uLnVzZXIpO1xyXG4gICAgICBzZXNzaW9uLnVzZXIuaWQgPSB0b2tlbi5pZCBhcyBzdHJpbmc7XHJcbiAgICAgIHNlc3Npb24udXNlci50eXBlID0gdG9rZW4udHlwZSBhcyBzdHJpbmc7XHJcbiAgICAgIHNlc3Npb24uYWNjZXNzVG9rZW4gPSB0b2tlbi5hY2Nlc3NUb2tlbjtcclxuICAgICAgc2Vzc2lvbi5yZWZyZXNoVG9rZW4gPSB0b2tlbi5yZWZyZXNoVG9rZW47XHJcbiAgICAgIHJldHVybiBzZXNzaW9uO1xyXG4gICAgfSxcclxuXHJcbiAgICAvLyDroZzqt7jsnbgv66Gc6re47JWE7JuDIO2bhCDrpqzrlJTroInshZjtlaAgVVJMIOyngOyglVxyXG4gICAgLy8gcmVkaXJlY3Qg7ZWo7IiY66W8IOygnOqzte2VoCDqsr3smrAgc2lnbkluIO2YuOy2nOyLnCDrkZDrsojsp7gg7J247J6Q66GcIOyghOuLrO2VmOuKlCDsmLXshZjsnZggcmVkaXJlY3RUb+uKlCDrj5nsnpHtlZjsp4Ag7JWK7J2MXHJcbiAgICAvLyBzaWduSW4oJ2dvb2dsZScsIHsgcmVkaXJlY3RUbzogJy9tdXNpYycgfSk7XHJcbiAgICAvLyB1cmw6IHNpZ25JbiDsvZzrsLEg7ZWo7IiY6rCAIOuwmO2ZmO2VnCDqsJJcclxuICAgIC8vIGJhc2VVcmw6IE5FWFRBVVRIX1VSTCDtmZjqsr3rs4DsiJjsl5Ag7ISk7KCV65CcIOqwklxyXG4gICAgLy8gYXN5bmMgcmVkaXJlY3QoeyB1cmwsIGJhc2VVcmwgfSl7XHJcbiAgICAvLyAgIGNvbnNvbGUubG9nKCdjYWxsYmFja3MucmVkaXJlY3QnLCB1cmwsIGJhc2VVcmwpO1xyXG4gICAgLy8gICByZXR1cm4gYmFzZVVybDtcclxuICAgIC8vIH0sXHJcbiAgfSxcclxufSk7XHJcbiJdLCJuYW1lcyI6WyJOZXh0QXV0aCIsIkNyZWRlbnRpYWxzU2lnbmluIiwiQ3JlZGVudGlhbHNQcm92aWRlciIsImdpdGh1YiIsImdvb2dsZSIsImxvZ2luIiwibG9naW5PQXV0aCIsInNpZ251cFdpdGhPQXV0aCIsImp3dCIsImZldGNoQWNjZXNzVG9rZW4iLCJTRVJWRVIiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX1NFUlZFUiIsImhhbmRsZXJzIiwic2lnbkluIiwic2lnbk91dCIsImF1dGgiLCJ1bnN0YWJsZV91cGRhdGUiLCJ1cGRhdGUiLCJ0cnVzdEhvc3QiLCJwcm92aWRlcnMiLCJjcmVkZW50aWFscyIsImVtYWlsIiwicGFzc3dvcmQiLCJhdXRob3JpemUiLCJyZXNKc29uIiwib2siLCJ1c2VyIiwiaXRlbSIsImlkIiwiU3RyaW5nIiwiX2lkIiwibmFtZSIsInR5cGUiLCJpbWFnZSIsImFjY2Vzc1Rva2VuIiwidG9rZW4iLCJyZWZyZXNoVG9rZW4iLCJtZXNzYWdlIiwiY2F1c2UiLCJjbGllbnRJZCIsIkdJVEhVQl9DTElFTlRfSUQiLCJjbGllbnRTZWNyZXQiLCJHSVRIVUJfQ0xJRU5UX1NFQ1JFVCIsIkdPT0dMRV9DTElFTlRfSUQiLCJHT09HTEVfQ0xJRU5UX1NFQ1JFVCIsInNlc3Npb24iLCJzdHJhdGVneSIsIm1heEFnZSIsInBhZ2VzIiwiY2FsbGJhY2tzIiwiYWNjb3VudCIsInByb2ZpbGUiLCJjb25zb2xlIiwibG9nIiwicHJvdmlkZXIiLCJ1c2VySW5mbyIsIm5ld1VzZXIiLCJsb2dpblR5cGUiLCJleHRyYSIsInByb3ZpZGVyQWNjb3VudElkIiwicmVzdWx0IiwicmVzRGF0YSIsIkVycm9yIiwiZXJyIiwiZXJyb3IiLCJ0cmlnZ2VyIiwiZGVjb2RlZFRva2VuIiwiZGVjb2RlIiwiYWNjZXNzVG9rZW5FeHBpcmVzIiwiZXhwIiwic2hvdWxkUmVmcmVzaFRva2VuIiwiRGF0ZSIsIm5vdyIsInJlcyIsImpzb24iLCJzdGF0dXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/auth.ts\n");

/***/ }),

/***/ "(rsc)/./src/data/actions/userAction.ts":
/*!****************************************!*\
  !*** ./src/data/actions/userAction.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   login: () => (/* binding */ login),\n/* harmony export */   loginOAuth: () => (/* binding */ loginOAuth),\n/* harmony export */   signInWithCredentials: () => (/* binding */ signInWithCredentials),\n/* harmony export */   signInWithGenesis: () => (/* binding */ signInWithGenesis),\n/* harmony export */   signInWithGithub: () => (/* binding */ signInWithGithub),\n/* harmony export */   signInWithGoogle: () => (/* binding */ signInWithGoogle),\n/* harmony export */   signInWithNaver: () => (/* binding */ signInWithNaver),\n/* harmony export */   signup: () => (/* binding */ signup),\n/* harmony export */   signupWithOAuth: () => (/* binding */ signupWithOAuth)\n/* harmony export */ });\n/* harmony import */ var private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! private-next-rsc-server-reference */ \"(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/server-reference.js\");\n/* harmony import */ var private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! private-next-rsc-action-encryption */ \"(rsc)/./node_modules/next/dist/server/app-render/encryption.js\");\n/* harmony import */ var private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/auth */ \"(rsc)/./src/auth.ts\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/navigation */ \"(rsc)/./node_modules/next/dist/api/navigation.react-server.js\");\n/* harmony import */ var private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! private-next-rsc-action-validate */ \"(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-validate.js\");\n// 서버 액션 정의\n/* __next_internal_action_entry_do_not_use__ {\"1d018a760d76feb09159736044f8836211e49fe8\":\"loginOAuth\",\"3f2e0afba8bab9307737612bc4fe62393f6f8283\":\"signInWithCredentials\",\"590b59c73117bc6cabda72a86624a10b5ae14a3d\":\"signInWithGenesis\",\"5c6c14ce6624afdcc210a7e9d92cc5025dc41925\":\"signInWithNaver\",\"c392c5e8e6a7f21d8b28003d01a1adb46c73f41b\":\"login\",\"cf612f4ff735cf9171a8c18a7b16ee823dea3b48\":\"signupWithOAuth\",\"e905d3c8a1f5ac6653a2daa334ae00bf5047ff6b\":\"signup\",\"edbafd7d2562715704ce4c02c62cf66a75536949\":\"signInWithGoogle\",\"fbbd04a16abba95936ca55123dd6e3fac683d9b8\":\"signInWithGithub\"} */ \n\n\n\nconst SERVER = \"https://api.fesp.shop\";\nasync function signup(formData) {\n    const userData = {\n        type: formData.get(\"type\") || \"user\",\n        name: formData.get(\"name\"),\n        email: formData.get(\"email\"),\n        password: formData.get(\"password\"),\n        image: \"\"\n    };\n    // 이미지 먼저 업로드\n    const attach = formData.get(\"attach\");\n    if (attach?.size > 0) {\n        // 프로필 이미지를 추가한 경우\n        const fileRes = await fetch(`${SERVER}/files`, {\n            method: \"POST\",\n            headers: {\n                \"client-id\": \"02-genisisu\"\n            },\n            body: formData\n        });\n        if (!fileRes.ok) {\n            throw new Error(\"파일 업로드 실패\");\n        }\n        const fileData = await fileRes.json();\n        // 서버로부터 응답받은 이미지 이름을 회원 정보에 포함\n        userData.image = fileData.item[0].path;\n    }\n    const res = await fetch(`${SERVER}/users`, {\n        method: \"POST\",\n        headers: {\n            \"client-id\": \"02-genisisu\",\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(userData)\n    });\n    const signupData = await res.json();\n    console.log(\"SignUp data\", signupData);\n    return signupData;\n}\n// email/password 로그인\nasync function signInWithCredentials(loginData) {\n    console.log(\"signInWithCredentials 로그인 결과\", loginData);\n    try {\n        const result = await (0,_auth__WEBPACK_IMPORTED_MODULE_2__.signIn)(\"credentials\", {\n            ...loginData,\n            redirect: false\n        });\n        console.log(result);\n    } catch (err) {\n        console.error(err);\n        if (err instanceof Error) {\n            return err.cause;\n        }\n    }\n    (0,next_navigation__WEBPACK_IMPORTED_MODULE_3__.redirect)(\"/\");\n}\n// 아이디/패스워드 로그인\nasync function login(userObj) {\n    const res = await fetch(`${SERVER}/users/login`, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            \"client-Id\": \"02-genisisu\"\n        },\n        body: JSON.stringify(userObj)\n    });\n    return res.json();\n}\n// auth provider 인증 후 자동 회원 가입\nasync function signupWithOAuth(user) {\n    const res = await fetch(`${SERVER}/users/signup/oauth`, {\n        method: \"POST\",\n        headers: {\n            \"client-id\": \"02-genisisu\",\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(user)\n    });\n    return res.json();\n}\n// auth provider로 인증된 사용자 로그인\nasync function loginOAuth(providerAccountId) {\n    const res = await fetch(`${SERVER}/users/login/with`, {\n        method: \"POST\",\n        headers: {\n            \"client-id\": \"02-genisisu\",\n            \"Content-type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            providerAccountId\n        })\n    });\n    return res.json();\n}\nasync function signInWithGoogle(formData) {\n    await (0,_auth__WEBPACK_IMPORTED_MODULE_2__.signIn)(\"google\", {\n        redirectTo: `/?email=${formData.get(\"email\")}`\n    });\n}\nasync function signInWithGenesis(formData) {\n    await (0,_auth__WEBPACK_IMPORTED_MODULE_2__.signIn)(\"genesis\", {\n        redirectTo: `/?email=${formData.get(\"email\")}`\n    });\n}\nasync function signInWithNaver(formData) {\n    await (0,_auth__WEBPACK_IMPORTED_MODULE_2__.signIn)(\"naver\", {\n        redirectTo: `/?email=${formData.get(\"email\")}`\n    });\n}\nasync function signInWithGithub(formData) {\n    await (0,_auth__WEBPACK_IMPORTED_MODULE_2__.signIn)(\"github\", {\n        redirectTo: `/?email=${formData.get(\"email\")}`\n    });\n}\n\n(0,private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_4__.ensureServerEntryExports)([\n    signup,\n    signInWithCredentials,\n    login,\n    signupWithOAuth,\n    loginOAuth,\n    signInWithGoogle,\n    signInWithGenesis,\n    signInWithNaver,\n    signInWithGithub\n]);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(\"e905d3c8a1f5ac6653a2daa334ae00bf5047ff6b\", signup);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(\"3f2e0afba8bab9307737612bc4fe62393f6f8283\", signInWithCredentials);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(\"c392c5e8e6a7f21d8b28003d01a1adb46c73f41b\", login);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(\"cf612f4ff735cf9171a8c18a7b16ee823dea3b48\", signupWithOAuth);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(\"1d018a760d76feb09159736044f8836211e49fe8\", loginOAuth);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(\"edbafd7d2562715704ce4c02c62cf66a75536949\", signInWithGoogle);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(\"590b59c73117bc6cabda72a86624a10b5ae14a3d\", signInWithGenesis);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(\"5c6c14ce6624afdcc210a7e9d92cc5025dc41925\", signInWithNaver);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(\"fbbd04a16abba95936ca55123dd6e3fac683d9b8\", signInWithGithub);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFNBQVM7WUFDUCxhQUFhakIsYUFBaUM7WUFDOUMsZ0JBQWdCO1FBQ2xCO1FBQ0FtQixNQUFNUSxLQUFLQyxTQUFTLENBQUM7WUFBRWU7UUFBa0I7SUFDM0M7SUFDQSxPQUFPakIsSUFBSUgsSUFBSTtBQUNqQjtBQUVPLGVBQWVxQixpQkFBaUJ4QyxRQUFrQjtJQUN2RCxNQUFNUCw2Q0FBTUEsQ0FBQyxVQUFVO1FBQUVnRCxZQUFZLENBQUMsUUFBUSxFQUFFekMsU0FBU0csR0FBRyxDQUFDLFNBQVMsQ0FBQztJQUFDO0FBQzFFO0FBRU8sZUFBZXVDLGtCQUFrQjFDLFFBQWtCO0lBQ3hELE1BQU1QLDZDQUFNQSxDQUFDLFdBQVc7UUFBRWdELFlBQVksQ0FBQyxRQUFRLEVBQUV6QyxTQUFTRyxHQUFHLENBQUMsU0FBUyxDQUFDO0lBQUM7QUFDM0U7QUFFTyxlQUFld0MsZ0JBQWdCM0MsUUFBa0I7SUFDdEQsTUFBTVAsNkNBQU1BLENBQUMsU0FBUztRQUFFZ0QsWUFBWSxDQUFDLFFBQVEsRUFBRXpDLFNBQVNHLEdBQUcsQ0FBQyxTQUFTLENBQUM7SUFBQztBQUN6RTtBQUVPLGVBQWV5QyxpQkFBaUI1QyxRQUFrQjtJQUN2RCxNQUFNUCw2Q0FBTUEsQ0FBQyxVQUFVO1FBQUVnRCxZQUFZLENBQUMsUUFBUSxFQUFFekMsU0FBU0csR0FBRyxDQUFDLFNBQVMsQ0FBQztJQUFDO0FBQzFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29tbXVuaXR5Ly4vc3JjL2RhdGEvYWN0aW9ucy91c2VyQWN0aW9uLnRzP2NkM2EiXSwic291cmNlc0NvbnRlbnQiOlsiLy8g7ISc67KEIOyVoeyFmCDsoJXsnZhcclxuJ3VzZSBzZXJ2ZXInO1xyXG5cclxuaW1wb3J0IHsgc2lnbkluIH0gZnJvbSAnQC9hdXRoJztcclxuaW1wb3J0IHtcclxuICBBcGlSZXMsXHJcbiAgQXBpUmVzV2l0aFZhbGlkYXRpb24sXHJcbiAgQ29yZUVycm9yUmVzLFxyXG4gIEZpbGVSZXMsXHJcbiAgTXVsdGlJdGVtLFxyXG4gIE9BdXRoVXNlcixcclxuICBTaW5nbGVJdGVtLFxyXG4gIFVzZXJEYXRhLFxyXG4gIFVzZXJGb3JtLFxyXG4gIFVzZXJMb2dpbkZvcm0sXHJcbn0gZnJvbSAnLi4vLi4vLi4vdHlwZXMnO1xyXG5pbXBvcnQgeyByZWRpcmVjdCB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7XHJcbmltcG9ydCB7IFJlc3VsdCB9IGZyb20gJ3Bvc3Rjc3MnO1xyXG5cclxuY29uc3QgU0VSVkVSID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1NFUlZFUjtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaWdudXAoXHJcbiAgZm9ybURhdGE6IEZvcm1EYXRhXHJcbik6IFByb21pc2U8QXBpUmVzV2l0aFZhbGlkYXRpb248U2luZ2xlSXRlbTxVc2VyRGF0YT4sIFVzZXJGb3JtPj4ge1xyXG4gIGNvbnN0IHVzZXJEYXRhID0ge1xyXG4gICAgdHlwZTogZm9ybURhdGEuZ2V0KCd0eXBlJykgfHwgJ3VzZXInLFxyXG4gICAgbmFtZTogZm9ybURhdGEuZ2V0KCduYW1lJyksXHJcbiAgICBlbWFpbDogZm9ybURhdGEuZ2V0KCdlbWFpbCcpLFxyXG4gICAgcGFzc3dvcmQ6IGZvcm1EYXRhLmdldCgncGFzc3dvcmQnKSxcclxuICAgIGltYWdlOiAnJyxcclxuICB9O1xyXG5cclxuICAvLyDsnbTrr7jsp4Ag66i87KCAIOyXheuhnOuTnFxyXG4gIGNvbnN0IGF0dGFjaCA9IGZvcm1EYXRhLmdldCgnYXR0YWNoJykgYXMgRmlsZTtcclxuXHJcbiAgaWYgKGF0dGFjaD8uc2l6ZSA+IDApIHtcclxuICAgIC8vIO2UhOuhnO2VhCDsnbTrr7jsp4Drpbwg7LaU6rCA7ZWcIOqyveyasFxyXG4gICAgY29uc3QgZmlsZVJlcyA9IGF3YWl0IGZldGNoKGAke1NFUlZFUn0vZmlsZXNgLCB7XHJcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgJ2NsaWVudC1pZCc6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0NMSUVOVF9JRCxcclxuICAgICAgfSxcclxuICAgICAgYm9keTogZm9ybURhdGEsXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoIWZpbGVSZXMub2spIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCftjIzsnbwg7JeF66Gc65OcIOyLpO2MqCcpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZmlsZURhdGE6IE11bHRpSXRlbTxGaWxlUmVzPiA9IGF3YWl0IGZpbGVSZXMuanNvbigpO1xyXG4gICAgLy8g7ISc67KE66Gc67aA7YSwIOydkeuLteuwm+ydgCDsnbTrr7jsp4Ag7J2066aE7J2EIO2ajOybkCDsoJXrs7Tsl5Ag7Y+s7ZWoXHJcbiAgICB1c2VyRGF0YS5pbWFnZSA9IGZpbGVEYXRhLml0ZW1bMF0ucGF0aDtcclxuICB9XHJcblxyXG4gIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAke1NFUlZFUn0vdXNlcnNgLCB7XHJcbiAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgIGhlYWRlcnM6IHtcclxuICAgICAgJ2NsaWVudC1pZCc6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0NMSUVOVF9JRCxcclxuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgIH0sXHJcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh1c2VyRGF0YSksXHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IHNpZ251cERhdGEgPSBhd2FpdCByZXMuanNvbigpO1xyXG4gIGNvbnNvbGUubG9nKCdTaWduVXAgZGF0YScsIHNpZ251cERhdGEpO1xyXG4gIHJldHVybiBzaWdudXBEYXRhO1xyXG59XHJcblxyXG4vLyBlbWFpbC9wYXNzd29yZCDroZzqt7jsnbhcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNpZ25JbldpdGhDcmVkZW50aWFscyhcclxuICBsb2dpbkRhdGE6IFVzZXJMb2dpbkZvcm1cclxuKTogUHJvbWlzZTxBcGlSZXNXaXRoVmFsaWRhdGlvbjxTaW5nbGVJdGVtPFVzZXJGb3JtPiwgVXNlckxvZ2luRm9ybT4+IHtcclxuICBjb25zb2xlLmxvZygnc2lnbkluV2l0aENyZWRlbnRpYWxzIOuhnOq3uOyduCDqsrDqs7wnLCBsb2dpbkRhdGEpO1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzaWduSW4oJ2NyZWRlbnRpYWxzJywge1xyXG4gICAgICAuLi5sb2dpbkRhdGEsXHJcbiAgICAgIHJlZGlyZWN0OiBmYWxzZSxcclxuICAgIH0pO1xyXG4gICAgY29uc29sZS5sb2cocmVzdWx0KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICByZXR1cm4gZXJyLmNhdXNlIGFzIENvcmVFcnJvclJlcztcclxuICAgIH1cclxuICB9XHJcbiAgcmVkaXJlY3QoJy8nKTtcclxufVxyXG5cclxuLy8g7JWE7J2065SUL+2MqOyKpOybjOuTnCDroZzqt7jsnbhcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvZ2luKFxyXG4gIHVzZXJPYmo6IFVzZXJMb2dpbkZvcm1cclxuKTogUHJvbWlzZTxBcGlSZXNXaXRoVmFsaWRhdGlvbjxTaW5nbGVJdGVtPFVzZXJEYXRhPiwgVXNlckxvZ2luRm9ybT4+IHtcclxuICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgJHtTRVJWRVJ9L3VzZXJzL2xvZ2luYCwge1xyXG4gICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICBoZWFkZXJzOiB7XHJcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICdjbGllbnQtSWQnOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19DTElFTlRfSUQsXHJcbiAgICB9LFxyXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkodXNlck9iaiksXHJcbiAgfSk7XHJcbiAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbn1cclxuXHJcbi8vIGF1dGggcHJvdmlkZXIg7J247KadIO2bhCDsnpDrj5kg7ZqM7JuQIOqwgOyehVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2lnbnVwV2l0aE9BdXRoKFxyXG4gIHVzZXI6IE9BdXRoVXNlclxyXG4pOiBQcm9taXNlPEFwaVJlc1dpdGhWYWxpZGF0aW9uPFNpbmdsZUl0ZW08VXNlckRhdGE+LCBVc2VyRm9ybT4+IHtcclxuICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgJHtTRVJWRVJ9L3VzZXJzL3NpZ251cC9vYXV0aGAsIHtcclxuICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgaGVhZGVyczoge1xyXG4gICAgICAnY2xpZW50LWlkJzogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQ0xJRU5UX0lELFxyXG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgfSxcclxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHVzZXIpLFxyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gcmVzLmpzb24oKTtcclxufVxyXG5cclxuLy8gYXV0aCBwcm92aWRlcuuhnCDsnbjspp3rkJwg7IKs7Jqp7J6QIOuhnOq3uOyduFxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9naW5PQXV0aChwcm92aWRlckFjY291bnRJZDogc3RyaW5nKTogUHJvbWlzZTxBcGlSZXM8U2luZ2xlSXRlbTxVc2VyRGF0YT4+PiB7XHJcbiAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7U0VSVkVSfS91c2Vycy9sb2dpbi93aXRoYCwge1xyXG4gICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICBoZWFkZXJzOiB7XHJcbiAgICAgICdjbGllbnQtaWQnOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19DTElFTlRfSUQsXHJcbiAgICAgICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICB9LFxyXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBwcm92aWRlckFjY291bnRJZCB9KSxcclxuICB9KTtcclxuICByZXR1cm4gcmVzLmpzb24oKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNpZ25JbldpdGhHb29nbGUoZm9ybURhdGE6IEZvcm1EYXRhKSB7XHJcbiAgYXdhaXQgc2lnbkluKCdnb29nbGUnLCB7IHJlZGlyZWN0VG86IGAvP2VtYWlsPSR7Zm9ybURhdGEuZ2V0KCdlbWFpbCcpfWAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaWduSW5XaXRoR2VuZXNpcyhmb3JtRGF0YTogRm9ybURhdGEpIHtcclxuICBhd2FpdCBzaWduSW4oJ2dlbmVzaXMnLCB7IHJlZGlyZWN0VG86IGAvP2VtYWlsPSR7Zm9ybURhdGEuZ2V0KCdlbWFpbCcpfWAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaWduSW5XaXRoTmF2ZXIoZm9ybURhdGE6IEZvcm1EYXRhKSB7XHJcbiAgYXdhaXQgc2lnbkluKCduYXZlcicsIHsgcmVkaXJlY3RUbzogYC8/ZW1haWw9JHtmb3JtRGF0YS5nZXQoJ2VtYWlsJyl9YCB9KTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNpZ25JbldpdGhHaXRodWIoZm9ybURhdGE6IEZvcm1EYXRhKSB7XHJcbiAgYXdhaXQgc2lnbkluKCdnaXRodWInLCB7IHJlZGlyZWN0VG86IGAvP2VtYWlsPSR7Zm9ybURhdGEuZ2V0KCdlbWFpbCcpfWAgfSk7XHJcbn1cclxuIl0sIm5hbWVzIjpbInNpZ25JbiIsInJlZGlyZWN0IiwiU0VSVkVSIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQSV9TRVJWRVIiLCJzaWdudXAiLCJmb3JtRGF0YSIsInVzZXJEYXRhIiwidHlwZSIsImdldCIsIm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwiaW1hZ2UiLCJhdHRhY2giLCJzaXplIiwiZmlsZVJlcyIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsIk5FWFRfUFVCTElDX0NMSUVOVF9JRCIsImJvZHkiLCJvayIsIkVycm9yIiwiZmlsZURhdGEiLCJqc29uIiwiaXRlbSIsInBhdGgiLCJyZXMiLCJKU09OIiwic3RyaW5naWZ5Iiwic2lnbnVwRGF0YSIsImNvbnNvbGUiLCJsb2ciLCJzaWduSW5XaXRoQ3JlZGVudGlhbHMiLCJsb2dpbkRhdGEiLCJyZXN1bHQiLCJlcnIiLCJlcnJvciIsImNhdXNlIiwibG9naW4iLCJ1c2VyT2JqIiwic2lnbnVwV2l0aE9BdXRoIiwidXNlciIsImxvZ2luT0F1dGgiLCJwcm92aWRlckFjY291bnRJZCIsInNpZ25JbldpdGhHb29nbGUiLCJyZWRpcmVjdFRvIiwic2lnbkluV2l0aEdlbmVzaXMiLCJzaWduSW5XaXRoTmF2ZXIiLCJzaWduSW5XaXRoR2l0aHViIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/data/actions/userAction.ts\n");

/***/ }),

/***/ "(rsc)/./src/data/fetch/userFetch.ts":
/*!*************************************!*\
  !*** ./src/data/fetch/userFetch.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fetchAccessToken: () => (/* binding */ fetchAccessToken)\n/* harmony export */ });\nconst SERVER = \"https://api.fesp.shop\";\nconst CLIENT = \"02-genisisu\";\n// 액세스 토큰 재발행\nasync function fetchAccessToken(refreshToken) {\n    const url = `${SERVER}/auth/refresh`;\n    const res = await fetch(url, {\n        headers: {\n            \"client-id\": CLIENT,\n            Authorization: `Bearer ${refreshToken}`\n        }\n    });\n    return res;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvZGF0YS9mZXRjaC91c2VyRmV0Y2gudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE1BQU1BLFNBQVNDLHVCQUFrQztBQUNqRCxNQUFNRyxTQUFTSCxhQUFpQztBQUVoRCxhQUFhO0FBQ04sZUFBZUssaUJBQWlCQyxZQUFvQjtJQUN6RCxNQUFNQyxNQUFNLENBQUMsRUFBRVIsT0FBTyxhQUFhLENBQUM7SUFDcEMsTUFBTVMsTUFBTSxNQUFNQyxNQUFNRixLQUFLO1FBQzNCRyxTQUFTO1lBQ1AsYUFBYVA7WUFDYlEsZUFBZSxDQUFDLE9BQU8sRUFBRUwsYUFBYSxDQUFDO1FBQ3pDO0lBQ0Y7SUFDQSxPQUFPRTtBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29tbXVuaXR5Ly4vc3JjL2RhdGEvZmV0Y2gvdXNlckZldGNoLnRzPzQ0NGQiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgU0VSVkVSID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1NFUlZFUjtcclxuY29uc3QgQ0xJRU5UID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQ0xJRU5UX0lEO1xyXG5cclxuLy8g7JWh7IS47IqkIO2GoO2BsCDsnqzrsJztlolcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoQWNjZXNzVG9rZW4ocmVmcmVzaFRva2VuOiBzdHJpbmcpIHtcclxuICBjb25zdCB1cmwgPSBgJHtTRVJWRVJ9L2F1dGgvcmVmcmVzaGA7XHJcbiAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2godXJsLCB7XHJcbiAgICBoZWFkZXJzOiB7XHJcbiAgICAgICdjbGllbnQtaWQnOiBDTElFTlQsXHJcbiAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHtyZWZyZXNoVG9rZW59YCxcclxuICAgIH0sXHJcbiAgfSk7XHJcbiAgcmV0dXJuIHJlcztcclxufVxyXG4iXSwibmFtZXMiOlsiU0VSVkVSIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQSV9TRVJWRVIiLCJDTElFTlQiLCJORVhUX1BVQkxJQ19DTElFTlRfSUQiLCJmZXRjaEFjY2Vzc1Rva2VuIiwicmVmcmVzaFRva2VuIiwidXJsIiwicmVzIiwiZmV0Y2giLCJoZWFkZXJzIiwiQXV0aG9yaXphdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/data/fetch/userFetch.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@auth","vendor-chunks/jose","vendor-chunks/oauth4webapi","vendor-chunks/semver","vendor-chunks/next-auth","vendor-chunks/jsonwebtoken","vendor-chunks/lodash.includes","vendor-chunks/preact","vendor-chunks/jws","vendor-chunks/preact-render-to-string","vendor-chunks/lodash.once","vendor-chunks/jwa","vendor-chunks/lodash.isinteger","vendor-chunks/ecdsa-sig-formatter","vendor-chunks/cookie","vendor-chunks/lodash.isplainobject","vendor-chunks/ms","vendor-chunks/@panva","vendor-chunks/lodash.isstring","vendor-chunks/lodash.isnumber","vendor-chunks/lodash.isboolean","vendor-chunks/safe-buffer","vendor-chunks/buffer-equal-constant-time"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=E%3A%5CFESP%5CTeamProject%5CGENISISU%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CFESP%5CTeamProject%5CGENISISU&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();