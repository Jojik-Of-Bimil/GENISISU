(()=>{var e={};e.id=52,e.ids=[52],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},72254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},47261:e=>{"use strict";e.exports=require("node:util")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},54797:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>f,pages:()=>l,routeModule:()=>b,tree:()=>d}),t(98e3),t(32029),t(7629),t(53189),t(12523);var r=t(23191),s=t(88716),n=t(37922),i=t.n(n),c=t(95231),o={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>c[e]);t.d(a,o);let d=["",{children:["(web)",{children:["(user)",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,98e3)),"E:\\FESP\\TeamProject\\GENISISU\\src\\app\\(web)\\(user)\\login\\page.tsx"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,32029)),"E:\\FESP\\TeamProject\\GENISISU\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,7629)),"E:\\FESP\\TeamProject\\GENISISU\\src\\app\\error.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,53189)),"E:\\FESP\\TeamProject\\GENISISU\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,12523)),"E:\\FESP\\TeamProject\\GENISISU\\src\\app\\not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],l=["E:\\FESP\\TeamProject\\GENISISU\\src\\app\\(web)\\(user)\\login\\page.tsx"],f="/(web)/(user)/login/page",u={require:t,loadChunk:()=>Promise.resolve()},b=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(web)/(user)/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},45803:(e,a,t)=>{let r={"1d018a760d76feb09159736044f8836211e49fe8":()=>Promise.resolve().then(t.bind(t,30507)).then(e=>e.loginOAuth),"3f2e0afba8bab9307737612bc4fe62393f6f8283":()=>Promise.resolve().then(t.bind(t,30507)).then(e=>e.signInWithCredentials),"590b59c73117bc6cabda72a86624a10b5ae14a3d":()=>Promise.resolve().then(t.bind(t,30507)).then(e=>e.signInWithGenesis),"5c6c14ce6624afdcc210a7e9d92cc5025dc41925":()=>Promise.resolve().then(t.bind(t,30507)).then(e=>e.signInWithNaver),c392c5e8e6a7f21d8b28003d01a1adb46c73f41b:()=>Promise.resolve().then(t.bind(t,30507)).then(e=>e.login),cf612f4ff735cf9171a8c18a7b16ee823dea3b48:()=>Promise.resolve().then(t.bind(t,30507)).then(e=>e.signupWithOAuth),e905d3c8a1f5ac6653a2daa334ae00bf5047ff6b:()=>Promise.resolve().then(t.bind(t,30507)).then(e=>e.signup),edbafd7d2562715704ce4c02c62cf66a75536949:()=>Promise.resolve().then(t.bind(t,30507)).then(e=>e.signInWithGoogle),fbbd04a16abba95936ca55123dd6e3fac683d9b8:()=>Promise.resolve().then(t.bind(t,30507)).then(e=>e.signInWithGithub),a59231806b33ba31afb411107b27facf9738f3e2:()=>Promise.resolve().then(t.bind(t,1890)).then(e=>e.callGenesisLogin)};async function s(e,...a){return(await r[e]()).apply(null,a)}e.exports={"1d018a760d76feb09159736044f8836211e49fe8":s.bind(null,"1d018a760d76feb09159736044f8836211e49fe8"),"3f2e0afba8bab9307737612bc4fe62393f6f8283":s.bind(null,"3f2e0afba8bab9307737612bc4fe62393f6f8283"),"590b59c73117bc6cabda72a86624a10b5ae14a3d":s.bind(null,"590b59c73117bc6cabda72a86624a10b5ae14a3d"),"5c6c14ce6624afdcc210a7e9d92cc5025dc41925":s.bind(null,"5c6c14ce6624afdcc210a7e9d92cc5025dc41925"),c392c5e8e6a7f21d8b28003d01a1adb46c73f41b:s.bind(null,"c392c5e8e6a7f21d8b28003d01a1adb46c73f41b"),cf612f4ff735cf9171a8c18a7b16ee823dea3b48:s.bind(null,"cf612f4ff735cf9171a8c18a7b16ee823dea3b48"),e905d3c8a1f5ac6653a2daa334ae00bf5047ff6b:s.bind(null,"e905d3c8a1f5ac6653a2daa334ae00bf5047ff6b"),edbafd7d2562715704ce4c02c62cf66a75536949:s.bind(null,"edbafd7d2562715704ce4c02c62cf66a75536949"),fbbd04a16abba95936ca55123dd6e3fac683d9b8:s.bind(null,"fbbd04a16abba95936ca55123dd6e3fac683d9b8"),a59231806b33ba31afb411107b27facf9738f3e2:s.bind(null,"a59231806b33ba31afb411107b27facf9738f3e2")}},76117:(e,a,t)=>{Promise.resolve().then(t.bind(t,73470))},73470:(e,a,t)=>{"use strict";t.d(a,{default:()=>d});var r=t(10326),s=t(90170),n=t(78103),i=t(47679);t(15424),(0,t(46242).$)("a59231806b33ba31afb411107b27facf9738f3e2");var c=t(90434),o=t(74723);function d(){let{register:e,handleSubmit:a,formState:{errors:t,isLoading:d,isSubmitted:l},setError:f}=(0,o.cI)({defaultValues:{email:"hyundai-morgans@genisisu.com",password:"11111111"}}),u=async e=>{let a=await (0,i.c4)(e);a?!a.ok&&("errors"in a?a.errors.forEach(e=>f(e.path,{message:e.msg})):a.message&&alert(a.message)):alert("로그인 되었습니다.")};return(0,r.jsxs)("form",{children:[(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-gray-700 dark:text-gray-200 mb-2",htmlFor:"email",children:"이메일"}),r.jsx("input",{id:"email",type:"email",placeholder:"이메일을 입력하세요",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-orange-400 dark:bg-gray-700",...e("email",{required:"이메일을 입력하세요.",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"이메일 형식이 아닙니다."}})}),r.jsx(s.Z,{target:t.email})]}),(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-gray-700 dark:text-gray-200 mb-2",htmlFor:"password",children:"비밀번호"}),r.jsx("input",{id:"password",type:"password",placeholder:"비밀번호를 입력하세요",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-orange-400 dark:bg-gray-700",...e("password",{required:"비밀번호를 입력하세요."})}),r.jsx(s.Z,{target:t.password}),r.jsx(c.default,{href:"#",className:"block mt-6 ml-auto text-gray-500 text-sm dark:text-gray-300 hover:underline",children:"비밀번호를 잊으셨나요?"})]}),(0,r.jsxs)("div",{className:"flex gap-x-[10px] mt-10 mb-5 justify-center items-center",children:[r.jsx(n.Z,{className:"btnBasic px-[5%] py-[1%] hover:underline cursor:pointer",onClick:a(u),children:"로그인"}),r.jsx(c.default,{href:"/signup",className:"btnBasic px-[5%] py-[1%] hover:underline",children:"회원가입"})]}),(0,r.jsxs)("div",{className:"flex gap-x-[10px] justify-center items-center",children:[r.jsx(n.Z,{className:"btnBasic px-[5%] py-[1%] hover:underline cursor:pointer",formAction:i.qj,children:"구글"}),r.jsx(n.Z,{className:"btnBasic px-[5%] py-[1%] hover:underline cursor:pointer",formAction:i.gU,children:"깃허브"})]})]})}t(17577)},48648:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});var r=t(10326);let s=({children:e,type:a="button",bgColor:t="black",size:s="md",color:n="white",...i})=>r.jsx("button",{type:a,className:`${{gray:"bg-gray-900",black:"bg-black",red:"bg-red-500",white:"bg-white"}[t]} ${{sm:"py-1 px-2 text-sm",md:"py-1 px-4 text-base",lg:"py-2 px-6 text-lg",medium:"w-14 h-8 text-sm font-light",custom:"w-[200px] h-[37px]"}[s]} ${{black:"text-black",white:"text-white",gray:"text-[#666666]"}[n]}`,style:{fontFamily:"Pretendard"},...i,children:e})},90170:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});var r=t(10326);function s({target:e}){return e?r.jsx("p",{className:"ml-2 mt-1 text-sm text-red-500 dark:text-red-400",children:e.message}):null}},78103:(e,a,t)=>{"use strict";t.d(a,{Z:()=>n});var r=t(10326),s=t(48648);let n=({children:e,...a})=>r.jsx(s.Z,{type:"submit",...a,children:e})},47679:(e,a,t)=>{"use strict";t.d(a,{IU:()=>n,c4:()=>i,gU:()=>s,qj:()=>c}),t(15424);var r=t(46242),s=(0,r.$)("fbbd04a16abba95936ca55123dd6e3fac683d9b8"),n=(0,r.$)("e905d3c8a1f5ac6653a2daa334ae00bf5047ff6b"),i=(0,r.$)("3f2e0afba8bab9307737612bc4fe62393f6f8283");(0,r.$)("c392c5e8e6a7f21d8b28003d01a1adb46c73f41b"),(0,r.$)("cf612f4ff735cf9171a8c18a7b16ee823dea3b48"),(0,r.$)("1d018a760d76feb09159736044f8836211e49fe8");var c=(0,r.$)("edbafd7d2562715704ce4c02c62cf66a75536949");(0,r.$)("590b59c73117bc6cabda72a86624a10b5ae14a3d"),(0,r.$)("5c6c14ce6624afdcc210a7e9d92cc5025dc41925")},98e3:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>l,generateMetadata:()=>d});var r=t(19510),s=t(68570);let n=(0,s.createProxy)(String.raw`E:\FESP\TeamProject\GENISISU\src\app\(web)\(user)\login\LoginForm.tsx`),{__esModule:i,$$typeof:c}=n;n.default;let o=(0,s.createProxy)(String.raw`E:\FESP\TeamProject\GENISISU\src\app\(web)\(user)\login\LoginForm.tsx#default`);function d(){return{title:"로그인 - GENISISU",description:"GENISISU 로그인 페이지",openGraph:{title:"로그인 - GENISISU",description:"GENISISU 로그인 페이지입니다.",url:"/login",images:{url:"/images/genisisu_logo_b.png"}}}}function l(){return r.jsx("main",{className:"min-w-80 flex-grow flex items-center justify-center bg-white",children:(0,r.jsxs)("div",{className:"p-8 border border-gray-200 rounded-lg w-full max-w-md my-[50px]",children:[r.jsx("div",{className:"text-center py-4",children:r.jsx("h2",{className:"text-2xl font-semibold text-gray-700 dark:text-gray-200 max-[1366px]:text-[34px]",children:"로그인"})}),r.jsx(o,{})]})})}},3656:(e,a,t)=>{"use strict";t.d(a,{auth:()=>p,signIn:()=>u});var r=t(73978),s=t(52909),n=t(3760),i=t(11250),c=t(30507),o=t(57817),d=t.n(o),l=t(57640);let{handlers:f,signIn:u,signOut:b,auth:p,unstable_update:g}=(0,r.default)({trustHost:!0,providers:[(0,s.default)({credentials:{email:{},password:{}},async authorize(e){let a=await (0,c.login)(e);if(a.ok){let e=a.item;return{id:String(e._id),name:e.name,email:e.email,type:e.type,image:e.image&&"https://api.fesp.shop"+e.image,accessToken:e.token.accessToken,refreshToken:e.token.refreshToken}}throw new r.CredentialsSignin(a.message,{cause:a})}}),(0,n.default)({clientId:process.env.GITHUB_CLIENT_ID,clientSecret:process.env.GITHUB_CLIENT_SECRET}),(0,i.default)({clientId:process.env.GOOGLE_CLIENT_ID,clientSecret:process.env.GOOGLE_CLIENT_SECRET}),(0,n.default)({clientId:process.env.GITHUB_CLIENT_ID,clientSecret:process.env.GITHUB_CLIENT_SECRET})],session:{strategy:"jwt",maxAge:86400},pages:{signIn:"/login"},callbacks:{async signIn({user:e,account:a,profile:t,credentials:r}){switch(console.log("callbacks.signIn",e,a,t,r),a?.provider){case"credentials":console.log("id/pwd 로그인",e);break;case"github":case"google":case"kakao":case"naver":case"genesis":console.log("OAuth 로그인",e);let s=null;try{let r={type:"user",loginType:a.provider,name:e.name||"",email:e.email||"",image:e.image||"",extra:{...t,providerAccountId:a.providerAccountId}},n=await (0,c.signupWithOAuth)(r);console.log("회원가입",n);let i=await (0,c.loginOAuth)(a.providerAccountId);if(i.ok)s=i.item,console.log(s);else throw Error(i.message)}catch(e){throw console.error(e),e}e.id=String(s?._id),e.type=s?.type,e.accessToken=s.token.accessToken,e.refreshToken=s.token.refreshToken}return!0},async jwt({token:e,user:a,trigger:t,session:r,account:s,profile:n}){console.log("jwt.user",a),a&&(e.id=a.id,e.type=a.type,e.accessToken=a.accessToken,e.refreshToken=a.refreshToken);let i=d().decode(e.accessToken),c=i?.exp?1e3*i.exp:0;if(Date.now()>c)try{console.log("토큰 만료됨.",Date.now()+" > "+c);let a=await (0,l.fetchAccessToken)(e.refreshToken);if(a.ok){let t=await a.json();return{...e,accessToken:t.accessToken}}401===a.status&&console.log("리플래시 토큰 인증 실패. 로그인 페이지로 이동해야 함",await a.json())}catch(a){if(a instanceof Error)return console.error(a),{...e,error:a.message}}return"update"===t&&r&&(e.name=r.name),e},session:async({session:e,token:a})=>(console.log("session.user",e.user),e.user.id=a.id,e.user.type=a.type,e.accessToken=a.accessToken,e.refreshToken=a.refreshToken,e)}})},30507:(e,a,t)=>{"use strict";t.r(a),t.d(a,{login:()=>l,loginOAuth:()=>u,signInWithCredentials:()=>d,signInWithGenesis:()=>p,signInWithGithub:()=>m,signInWithGoogle:()=>b,signInWithNaver:()=>g,signup:()=>o,signupWithOAuth:()=>f});var r=t(27745);t(26461);var s=t(3656),n=t(74739),i=t(85723);let c="https://api.fesp.shop";async function o(e){let a={type:e.get("type")||"user",name:e.get("name"),email:e.get("email"),password:e.get("password"),image:""},t=e.get("attach");if(t?.size>0){let t=await fetch(`${c}/files`,{method:"POST",headers:{"client-id":"02-genisisu"},body:e});if(!t.ok)throw Error("파일 업로드 실패");let r=await t.json();a.image=r.item[0].path}let r=await fetch(`${c}/users`,{method:"POST",headers:{"client-id":"02-genisisu","Content-Type":"application/json"},body:JSON.stringify(a)}),s=await r.json();return console.log("SignUp data",s),s}async function d(e){console.log("signInWithCredentials 로그인 결과",e);try{let a=await (0,s.signIn)("credentials",{...e,redirect:!1});console.log(a)}catch(e){if(console.error(e),e instanceof Error)return e.cause}(0,n.redirect)("/")}async function l(e){return(await fetch(`${c}/users/login`,{method:"POST",headers:{"Content-Type":"application/json","client-Id":"02-genisisu"},body:JSON.stringify(e)})).json()}async function f(e){return(await fetch(`${c}/users/signup/oauth`,{method:"POST",headers:{"client-id":"02-genisisu","Content-Type":"application/json"},body:JSON.stringify(e)})).json()}async function u(e){return(await fetch(`${c}/users/login/with`,{method:"POST",headers:{"client-id":"02-genisisu","Content-type":"application/json"},body:JSON.stringify({providerAccountId:e})})).json()}async function b(e){await (0,s.signIn)("google",{redirectTo:`/?email=${e.get("email")}`})}async function p(e){await (0,s.signIn)("genesis",{redirectTo:`/?email=${e.get("email")}`})}async function g(e){await (0,s.signIn)("naver",{redirectTo:`/?email=${e.get("email")}`})}async function m(e){await (0,s.signIn)("github",{redirectTo:`/?email=${e.get("email")}`})}(0,i.ensureServerEntryExports)([o,d,l,f,u,b,p,g,m]),(0,r.registerServerReference)("e905d3c8a1f5ac6653a2daa334ae00bf5047ff6b",o),(0,r.registerServerReference)("3f2e0afba8bab9307737612bc4fe62393f6f8283",d),(0,r.registerServerReference)("c392c5e8e6a7f21d8b28003d01a1adb46c73f41b",l),(0,r.registerServerReference)("cf612f4ff735cf9171a8c18a7b16ee823dea3b48",f),(0,r.registerServerReference)("1d018a760d76feb09159736044f8836211e49fe8",u),(0,r.registerServerReference)("edbafd7d2562715704ce4c02c62cf66a75536949",b),(0,r.registerServerReference)("590b59c73117bc6cabda72a86624a10b5ae14a3d",p),(0,r.registerServerReference)("5c6c14ce6624afdcc210a7e9d92cc5025dc41925",g),(0,r.registerServerReference)("fbbd04a16abba95936ca55123dd6e3fac683d9b8",m)},1890:(e,a,t)=>{"use strict";t.r(a),t.d(a,{callGenesisLogin:()=>n});var r=t(27745);t(26461);var s=t(74739);async function n(){let e=new URLSearchParams;e.set("client_id","f7b3c2e0-1e7d-413b-8cfc-7faf2ccc7a90"),e.set("host","http://192.168.6.108:3000"),e.set("state","200");let a=`/api/proxy?${e.toString()}`;(0,s.redirect)(a)}(0,t(85723).ensureServerEntryExports)([n]),(0,r.registerServerReference)("a59231806b33ba31afb411107b27facf9738f3e2",n)},57640:(e,a,t)=>{"use strict";async function r(e){return await fetch("https://api.fesp.shop/auth/refresh",{headers:{"client-id":"02-genisisu",Authorization:`Bearer ${e}`}})}t.d(a,{fetchAccessToken:()=>r})}};var a=require("../../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),r=a.X(0,[948,73,783,519,513],()=>t(54797));module.exports=r})();